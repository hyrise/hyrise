# Sources and libraries shared among the different builds of the lib
set(
    SOURCES
    all_parameter_variant.cpp
    all_parameter_variant.hpp
    all_type_variant.hpp
    concurrency/commit_context.cpp
    concurrency/commit_context.hpp
    concurrency/transaction_context.cpp
    concurrency/transaction_context.hpp
    concurrency/transaction_manager.cpp
    concurrency/transaction_manager.hpp
    constant_mappings.cpp
    constant_mappings.hpp
    import_export/binary.hpp
    import_export/csv_converter.cpp
    import_export/csv_converter.hpp
    import_export/csv_meta.cpp
    import_export/csv_meta.hpp
    import_export/csv_parser.cpp
    import_export/csv_parser.hpp
    import_export/csv_writer.cpp
    import_export/csv_writer.hpp
    logical_query_plan/abstract_lqp_node.cpp
    logical_query_plan/abstract_lqp_node.hpp
    logical_query_plan/aggregate_node.cpp
    logical_query_plan/aggregate_node.hpp
    logical_query_plan/create_view_node.cpp
    logical_query_plan/create_view_node.hpp
    logical_query_plan/delete_node.cpp
    logical_query_plan/delete_node.hpp
    logical_query_plan/drop_view_node.cpp
    logical_query_plan/drop_view_node.hpp
    logical_query_plan/dummy_table_node.cpp
    logical_query_plan/dummy_table_node.hpp
    logical_query_plan/insert_node.cpp
    logical_query_plan/insert_node.hpp
    logical_query_plan/join_node.cpp
    logical_query_plan/join_node.hpp
    logical_query_plan/limit_node.cpp
    logical_query_plan/limit_node.hpp
    logical_query_plan/logical_plan_root_node.cpp
    logical_query_plan/logical_plan_root_node.hpp
    logical_query_plan/lqp_translator.cpp
    logical_query_plan/lqp_translator.hpp
    logical_query_plan/mock_node.cpp
    logical_query_plan/mock_node.hpp
    logical_query_plan/predicate_node.cpp
    logical_query_plan/predicate_node.hpp
    logical_query_plan/projection_node.cpp
    logical_query_plan/projection_node.hpp
    logical_query_plan/show_columns_node.cpp
    logical_query_plan/show_columns_node.hpp
    logical_query_plan/show_tables_node.cpp
    logical_query_plan/show_tables_node.hpp
    logical_query_plan/sort_node.cpp
    logical_query_plan/sort_node.hpp
    logical_query_plan/stored_table_node.cpp
    logical_query_plan/stored_table_node.hpp
    logical_query_plan/union_node.cpp
    logical_query_plan/union_node.hpp
    logical_query_plan/update_node.cpp
    logical_query_plan/update_node.hpp
    logical_query_plan/validate_node.cpp
    logical_query_plan/validate_node.hpp
    operators/abstract_join_operator.cpp
    operators/abstract_join_operator.hpp
    operators/abstract_operator.cpp
    operators/abstract_operator.hpp
    operators/abstract_read_only_operator.cpp
    operators/abstract_read_only_operator.hpp
    operators/abstract_read_write_operator.cpp
    operators/abstract_read_write_operator.hpp
    operators/aggregate.cpp
    operators/aggregate.hpp
    operators/delete.cpp
    operators/delete.hpp
    operators/difference.cpp
    operators/difference.hpp
    operators/export_binary.cpp
    operators/export_binary.hpp
    operators/export_csv.cpp
    operators/export_csv.hpp
    operators/get_table.cpp
    operators/get_table.hpp
    operators/import_binary.cpp
    operators/import_binary.hpp
    operators/import_csv.cpp
    operators/import_csv.hpp
    operators/index_scan.cpp
    operators/index_scan.hpp
    operators/insert.cpp
    operators/insert.hpp
    operators/join_hash.cpp
    operators/join_hash.hpp
    operators/join_nested_loop.cpp
    operators/join_nested_loop.hpp
    operators/join_sort_merge.cpp
    operators/join_sort_merge.hpp
    operators/limit.cpp
    operators/limit.hpp
    operators/maintenance/create_view.cpp
    operators/maintenance/create_view.hpp
    operators/maintenance/drop_view.cpp
    operators/maintenance/drop_view.hpp
    operators/maintenance/show_columns.cpp
    operators/maintenance/show_columns.hpp
    operators/maintenance/show_tables.cpp
    operators/maintenance/show_tables.hpp
    operators/print.cpp
    operators/print.hpp
    operators/product.cpp
    operators/product.hpp
    operators/projection.cpp
    operators/projection.hpp
    operators/sort.cpp
    operators/sort.hpp
    operators/table_scan.cpp
    operators/table_scan.hpp
    operators/table_scan/base_single_column_table_scan_impl.cpp
    operators/table_scan/base_single_column_table_scan_impl.hpp
    operators/table_scan/base_table_scan_impl.hpp
    operators/table_scan/column_comparison_table_scan_impl.cpp
    operators/table_scan/column_comparison_table_scan_impl.hpp
    operators/table_scan/is_null_table_scan_impl.cpp
    operators/table_scan/is_null_table_scan_impl.hpp
    operators/table_scan/like_table_scan_impl.cpp
    operators/table_scan/like_table_scan_impl.hpp
    operators/table_scan/single_column_table_scan_impl.cpp
    operators/table_scan/single_column_table_scan_impl.hpp
    operators/table_wrapper.cpp
    operators/table_wrapper.hpp
    operators/union_all.cpp
    operators/union_all.hpp
    operators/union_positions.cpp
    operators/union_positions.hpp
    operators/update.cpp
    operators/update.hpp
    operators/validate.cpp
    operators/validate.hpp
    optimizer/base_column_statistics.cpp
    optimizer/base_column_statistics.hpp
    optimizer/column_statistics.cpp
    optimizer/column_statistics.hpp
    optimizer/expression.cpp
    optimizer/expression.hpp
    optimizer/optimizer.cpp
    optimizer/optimizer.hpp
    optimizer/strategy/abstract_rule.cpp
    optimizer/strategy/abstract_rule.hpp
    optimizer/strategy/join_detection_rule.cpp
    optimizer/strategy/join_detection_rule.hpp
    optimizer/strategy/predicate_reordering_rule.cpp
    optimizer/strategy/predicate_reordering_rule.hpp
    optimizer/table_statistics.cpp
    optimizer/table_statistics.hpp
    planviz/abstract_visualizer.hpp
    planviz/lqp_visualizer.cpp
    planviz/lqp_visualizer.hpp
    planviz/sql_query_plan_visualizer.cpp
    planviz/sql_query_plan_visualizer.hpp
    resolve_type.hpp
    scheduler/abstract_scheduler.cpp
    scheduler/abstract_scheduler.hpp
    scheduler/abstract_task.cpp
    scheduler/abstract_task.hpp
    scheduler/current_scheduler.cpp
    scheduler/current_scheduler.hpp
    scheduler/job_task.cpp
    scheduler/job_task.hpp
    scheduler/node_queue_scheduler.cpp
    scheduler/node_queue_scheduler.hpp
    scheduler/operator_task.cpp
    scheduler/operator_task.hpp
    scheduler/processing_unit.cpp
    scheduler/processing_unit.hpp
    scheduler/task_queue.cpp
    scheduler/task_queue.hpp
    scheduler/topology.cpp
    scheduler/topology.hpp
    scheduler/worker.cpp
    scheduler/worker.hpp
    sql/lru_cache.hpp
    sql/sql_planner.cpp
    sql/sql_planner.hpp
    sql/sql_expression_translator.cpp
    sql/sql_expression_translator.hpp
    sql/sql_query_cache.hpp
    sql/sql_query_operator.cpp
    sql/sql_query_operator.hpp
    sql/sql_query_plan.cpp
    sql/sql_query_plan.hpp
    sql/sql_result_operator.cpp
    sql/sql_result_operator.hpp
    sql/sql_translator.cpp
    sql/sql_translator.hpp
    storage/base_attribute_vector.hpp
    storage/base_column.hpp
    storage/base_dictionary_column.hpp
    storage/base_value_column.hpp
    storage/chunk.cpp
    storage/chunk.hpp
    storage/column_visitable.hpp
    storage/copyable_atomic.hpp
    storage/dictionary_column.cpp
    storage/dictionary_column.hpp
    storage/dictionary_compression.cpp
    storage/dictionary_compression.hpp
    storage/fitted_attribute_vector.hpp
    storage/column_encoders/base_column_encoder.hpp
    storage/column_encoders/dictionary_encoder.hpp
    storage/column_encoders/encoders.hpp
    storage/column_encoders/new_dictionary_encoder.hpp
    storage/column_encoders/utils.cpp
    storage/column_encoders/utils.hpp
    storage/encoded_columns/base_encoded_column.cpp
    storage/encoded_columns/base_encoded_column.hpp
    storage/encoded_columns/column_encoding_type.hpp
    storage/encoded_columns/encoded_columns.hpp
    storage/encoded_columns/new_dictionary_column.cpp
    storage/encoded_columns/new_dictionary_column.hpp
    storage/encoded_columns/utils.hpp
    storage/index/adaptive_radix_tree/adaptive_radix_tree_index.cpp
    storage/index/adaptive_radix_tree/adaptive_radix_tree_index.hpp
    storage/index/adaptive_radix_tree/adaptive_radix_tree_nodes.cpp
    storage/index/adaptive_radix_tree/adaptive_radix_tree_nodes.hpp
    storage/index/base_index.cpp
    storage/index/base_index.hpp
    storage/index/column_index_type.hpp
    storage/index/group_key/composite_group_key_index.cpp
    storage/index/group_key/composite_group_key_index.hpp
    storage/index/group_key/group_key_index.cpp
    storage/index/group_key/group_key_index.hpp
    storage/index/group_key/variable_length_key.cpp
    storage/index/group_key/variable_length_key.hpp
    storage/index/group_key/variable_length_key_base.cpp
    storage/index/group_key/variable_length_key_base.hpp
    storage/index/group_key/variable_length_key_proxy.cpp
    storage/index/group_key/variable_length_key_proxy.hpp
    storage/index/group_key/variable_length_key_store.cpp
    storage/index/group_key/variable_length_key_store.hpp
    storage/iterables/attribute_vector_iterable.hpp
    storage/iterables/base_iterators.hpp
    storage/iterables/chunk_offset_mapping.cpp
    storage/iterables/chunk_offset_mapping.hpp
    storage/iterables/column_value.hpp
    storage/iterables/constant_value_iterable.hpp
    storage/iterables/create_iterable_from_column.hpp
    storage/iterables/dictionary_column_iterable.hpp
    storage/iterables/iterables.hpp
    storage/iterables/new_dictionary_column_iterable.hpp
    storage/iterables/null_value_vector_iterable.hpp
    storage/iterables/reference_column_iterable.hpp
    storage/iterables/value_column_iterable.hpp
    storage/null_suppression/base_ns_decoder.hpp
    storage/null_suppression/base_ns_encoder.hpp
    storage/null_suppression/base_ns_vector.hpp
    storage/null_suppression/fixed_size_byte_aligned_decoder.hpp
    storage/null_suppression/fixed_size_byte_aligned_encoder.hpp
    storage/null_suppression/fixed_size_byte_aligned_vector.hpp
    storage/null_suppression/ns_decoders.hpp
    storage/null_suppression/ns_encoders.hpp
    storage/null_suppression/ns_type.hpp
    storage/null_suppression/ns_utils.cpp
    storage/null_suppression/ns_utils.hpp
    storage/null_suppression/ns_vectors.hpp
    storage/null_suppression/simd_bp128_decoder.cpp
    storage/null_suppression/simd_bp128_decoder.hpp
    storage/null_suppression/simd_bp128_encoder.cpp
    storage/null_suppression/simd_bp128_encoder.hpp
    storage/null_suppression/simd_bp128_iterator.cpp
    storage/null_suppression/simd_bp128_iterator.hpp
    storage/null_suppression/simd_bp128_packing.cpp
    storage/null_suppression/simd_bp128_packing.hpp
    storage/null_suppression/simd_bp128_vector.cpp
    storage/null_suppression/simd_bp128_vector.hpp
    storage/numa_placement_manager.cpp
    storage/numa_placement_manager.hpp
    storage/proxy_chunk.cpp
    storage/proxy_chunk.hpp
    storage/reference_column.cpp
    storage/reference_column.hpp
    storage/scoped_locking_ptr.hpp
    storage/storage_manager.cpp
    storage/storage_manager.hpp
    storage/table.cpp
    storage/table.hpp
    storage/value_column.cpp
    storage/value_column.hpp
    tasks/chunk_compression_task.cpp
    tasks/chunk_compression_task.hpp
    tasks/chunk_metrics_collection_task.cpp
    tasks/chunk_metrics_collection_task.hpp
    tasks/chunk_migration_task.cpp
    tasks/chunk_migration_task.hpp
    tasks/migration_preparation_task.cpp
    tasks/migration_preparation_task.hpp
    type_cast.hpp
    type_comparison.hpp
    types.hpp
    uid_allocator.hpp
    utils/assert.hpp
    utils/boost_default_memory_resource.cpp
    utils/cuckoo_hashtable.hpp
    utils/enum_constant.hpp
    utils/load_table.cpp
    utils/load_table.hpp
    utils/murmur_hash.cpp
    utils/murmur_hash.hpp
    utils/numa_memory_resource.cpp
    utils/numa_memory_resource.hpp
    utils/pausable_loop_thread.cpp
    utils/pausable_loop_thread.hpp
    utils/performance_warning.cpp
    utils/performance_warning.hpp
)

set(
    LIBRARIES
    pthread
    sqlparser
    ${TBB_LIBRARY}
)

if (NOT DISABLE_NUMA_SUPPORT AND ${NUMA_FOUND})
    set(LIBRARIES ${LIBRARIES} ${NUMA_LIBRARY} hpinuma_msource_s)
endif()

# Configure the regular hyrise library used for tests/server/playground...
add_library(hyrise STATIC ${SOURCES})
target_link_libraries(hyrise ${LIBRARIES})
